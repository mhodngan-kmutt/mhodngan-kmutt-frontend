---
import Layout from '../../layouts/Layout.astro';
import HeaderBar from '../../components/common/header/HeaderBar.astro';
import HeroSection from '@/components/home/hero/HeroSection.astro';
import MonthSection from '@/components/home/month/MonthSection.astro';
import YearSection from '@/components/home/year/YearSection.astro';
import HonorSection from '@/components/home/honor/HonorSection.astro';
import SeniorSection from '@/components/home/senior/SeniorSection.astro';
import ThesisSection from '@/components/home/thesis/ThesisSection.astro';
import CompetitionSection from '@/components/home/competition/CompetitionSection.astro';
import TermSection from '@/components/home/term/TermSection.astro';
import ExploreSection from '@/components/home/explore/ExploreSection.astro';
import LanguageSwitcher from '../../components/LanguageSwitcher.astro';
import AuthTest from '../../components/AuthTest';
import i18n from '../../i18n/i18n';

export async function getStaticPaths() {
  return [{ params: { lang: 'en' } }, { params: { lang: 'th' } }];
}

const { lang } = Astro.params;
const currentLang = lang === 'th' ? 'th' : 'en';

i18n.changeLanguage(currentLang);

const t = i18n.t.bind(i18n);
---

<Layout title="MhodNgan" class="overflow-y-scroll">
  <!-- <AuthTest client:load /> -->
  <HeaderBar position="relative" t={t} lang={currentLang} componentsColor="main-background" backgroundColor="float-neutral-background" />
  <HeroSection t={t} lang={currentLang} />
  <MonthSection t={t} lang={currentLang} />
  <YearSection t={t} lang={currentLang} />
  <HonorSection t={t} lang={currentLang} />
  <SeniorSection t={t} lang={currentLang} />
  <ThesisSection t={t} lang={currentLang} />
  <CompetitionSection t={t} lang={currentLang} />
  <TermSection t={t} lang={currentLang} />
  <ExploreSection t={t} lang={currentLang} />
  <!-- <LanguageSwitcher currentLang={currentLang} /> -->
</Layout>
